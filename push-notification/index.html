<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="manifest" href="manifest.json">
</head>

<body>

    <script type="text/javascript">
        navigator.serviceWorker.register('sw.js')
            .then((registration) => {
                return registration.pushManager.getSubscription()
                  .then((subscription) => {
                      if (subscription) {
                          return subscription;
                      }

                      return registration.pushManager.subscribe({
                          userVisibleOnly: true
                      });
                  });
            })
            .then((subscription) => {
                const endpoint = subscription.endpoint;

                console.log(subscription.endpoint);
            });
    </script>
</body>

</html>
